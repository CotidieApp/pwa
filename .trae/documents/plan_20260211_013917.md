He analizado todas tus peticiones y he preparado un plan detallado para implementarlas.

### 1. Actualizaci√≥n de Contenido (San Jos√©)

* Reemplazar√© el contenido de la "Devoci√≥n a San Jos√©" con el texto completo que proporcionaste (Oraci√≥n, Jaculatoria, S√∫plica, Oraci√≥n diaria, etc.).

### 2. Congelaci√≥n de Contadores (1 Hora)

* Modificar√© el sistema de estad√≠sticas (`SettingsContext`) para que registre la √∫ltima vez que se abri√≥ cada oraci√≥n.

* Si intentas abrir la misma oraci√≥n (ej. "Acordaos") en menos de **1 hora**, no se sumar√° al contador anual ni hist√≥rico.

### 3. PWA (Aplicaci√≥n Web Progresiva)

* **S√≠, es posible.** Configurar una PWA permitir√° que la web sea instalable en iOS y Android sin pasar por las tiendas.

* **Acci√≥n requerida:** Necesito instalar el paquete `next-pwa` y configurar `next.config.js` y el `manifest.json`. Esto generar√° los archivos necesarios en la pr√≥xima compilaci√≥n.

* Te dir√© c√≥mo proceder para que sea id√©ntica a la APK, y tambi√©n te ayudar√© a conseguir una direcci√≥n web con la que conectarla.

### 4. Correcciones en Rosario Inmersivo

* **Zona Segura:** Ajustar√© la pantalla de elecci√≥n de misterios para que respete los m√°rgenes superiores/inferiores (notch/isla din√°mica).

* **Adoraci√≥n Dividida:** Separar√© la "Adoraci√≥n al Sant√≠simo" inicial en 4 pasos distintos (3x "Bendito sea..." + 1x "Comuni√≥n espiritual").

* **T√≠tulos Grandes:** A√±adir√© el t√≠tulo descriptivo grande sobre la meditaci√≥n (ej: "Quinto misterio doloroso...").

* **Botones de Salto:**

  * Mover√© los botones de "Saltar" a la parte superior (o una ubicaci√≥n distinta a la navegaci√≥n principal) para evitar toques accidentales.

  * A√±adir√© l√≥gica para saltar del "Pre-Rosario" al "1er Misterio".

  * A√±adir√© l√≥gica para saltar del "5to Misterio" a las "Letan√≠as".

  * **No cerrar nunca:** El bot√≥n "Siguiente" en el √∫ltimo paso ya no cerrar√° el Rosario; solo la "X" o el bot√≥n "Atr√°s" del sistema lo har√°n.

* **Bot√≥n Directo a Letan√≠as:** A√±adir√© un bot√≥n peque√±o en la pantalla de elecci√≥n de misterios para ir directo a las Letan√≠as.

* **Emoji Salve:** Cambiar√© el emoji (actualmente üë∏) por algo m√°s abstracto o solemne (ej: üëë o ‚≠ê).

* **Formato Letan√≠as:** Asegurar√© que se respeten los saltos de l√≠nea y p√°rrafos.

* Har√© que la Salve no se incluya en la lista del Santo Rosario, y que su bot√≥n, para cambiar de Letan√≠as a Salve, solo aparezca cuando se termine el quinto misterio. Si no se presiona el bot√≥n, el usuario no podr√° acceder a la Salve a trav√©s del Santo Rosario.

### 5. Navegaci√≥n Plan de Vida

* Modificar√© la l√≥gica del bot√≥n "Atr√°s" en la vista principal (`MainApp`). Si est√°s en la lista del "Plan de Vida" y presionas atr√°s, forzar√© la navegaci√≥n al **Men√∫ de Inicio**, evitando bucles con oraciones anteriores.

### 6. Soluci√≥n Definitiva a Exportaci√≥n de Archivos

* **Problema:** El guardado directo en sistema de archivos es err√°tico en algunas versiones de Android por permisos.

* **Soluci√≥n:** Implementar√© la API **`Share`** **(Compartir)** de Capacitor.

* Al pulsar "Descargar", se abrir√° el men√∫ nativo de "Compartir" del celular, permiti√©ndote elegir "Guardar en Archivos", "Google Drive", o envi√°rtelo por WhatsApp/Email. Esto es infalible y funciona en Android e iOS.

* **Nota:** Necesitar√© instalar `@capacitor/share`.

### 7. Respuesta a Pregunta (Bot√≥n Imagen)

* El bot√≥n de imagen al lado de la X sirve para **alternar la visibilidad de la imagen de fondo** (mostrarla completa sin texto o con texto superpuesto). No har√© cambios aqu√≠.

***

**¬øProcedo con estos cambios?**
*(Al confirmar, instalar√© las dependencias necesarias y aplicar√© las modificaciones).*
